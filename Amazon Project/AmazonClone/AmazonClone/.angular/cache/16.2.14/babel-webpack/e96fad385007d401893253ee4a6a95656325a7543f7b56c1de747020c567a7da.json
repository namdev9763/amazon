{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/app.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ShowproductsComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cat_r3.name);\n  }\n}\nfunction ShowproductsComponent_tr_27_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Not available\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ShowproductsComponent_tr_27_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Limited stock\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ShowproductsComponent_tr_27_ng_container_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Available\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ShowproductsComponent_tr_27_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"strong\");\n    i0.ɵɵtext(2, \"Recently added\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ShowproductsComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\")(14, \"strong\");\n    i0.ɵɵtext(15, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"strong\");\n    i0.ɵɵtext(19, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, ShowproductsComponent_tr_27_ng_container_20_Template, 2, 0, \"ng-container\", 20);\n    i0.ɵɵtemplate(21, ShowproductsComponent_tr_27_ng_container_21_Template, 2, 0, \"ng-container\", 20);\n    i0.ɵɵtemplate(22, ShowproductsComponent_tr_27_ng_container_22_Template, 2, 0, \"ng-container\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵtemplate(24, ShowproductsComponent_tr_27_ng_container_24_Template, 3, 0, \"ng-container\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n    i0.ɵɵtext(27, \"Discount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\")(30, \"strong\");\n    i0.ɵɵtext(31, \"Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"td\")(34, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ShowproductsComponent_tr_27_Template_button_click_34_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const p_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addToCart(p_r4));\n    });\n    i0.ɵɵtext(35, \"Add to Cart\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"SN: \", i_r5 + 1, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r4.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r4.price, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r4.description, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", p_r4.quantity === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", p_r4.quantity > 0 && p_r4.quantity < 5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", p_r4.quantity >= 5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", p_r4.days <= 5);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r4.discount, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", p_r4.rating, \"\");\n  }\n}\nfunction ShowproductsComponent_div_30_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r13 = ctx.$implicit;\n    const i_r14 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r14 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r13.discount, \" %\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r13.price - item_r13.discount / 100);\n  }\n}\nfunction ShowproductsComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"h2\");\n    i0.ɵɵtext(2, \"Your Cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 23)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Discount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Amount\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, ShowproductsComponent_div_30_tr_19_Template, 13, 6, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"h4\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ShowproductsComponent_div_30_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.showCart = false);\n    });\n    i0.ɵɵtext(24, \"Back to Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"br\");\n    i0.ɵɵelementStart(26, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ShowproductsComponent_div_30_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.placeOrder());\n    });\n    i0.ɵɵtext(27, \"Place Order\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cartItems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total Amount: \", ctx_r2.getTotalAmount(), \"\");\n  }\n}\nexport class ShowproductsComponent {\n  constructor(http, app) {\n    this.http = http;\n    this.app = app;\n    this.catid = 1;\n    this.minprice = 0;\n    this.maxprice = 200000;\n    this.minrating = 0;\n    this.cartItems = [];\n    this.rating = 0;\n    this.showCart = false;\n    this.orders = [];\n  }\n  ngOnInit() {\n    this.loadCategories();\n    this.loadProduct();\n  }\n  loadCategories() {\n    const url = `${this.app.baseUrl}admin/getAllCategories`;\n    this.http.get(url).subscribe({\n      next: data => this.categories = data,\n      error: () => window.alert('Something is wrong')\n    });\n  }\n  loadProduct() {\n    const obj = [this.catid, this.minprice, this.maxprice, this.minrating];\n    const url = `${this.app.baseUrl}buyer/getProductsBuyer`;\n    this.http.post(url, obj).subscribe({\n      next: data => {\n        if (data && data.length > 0) {\n          this.products = data;\n          console.log(this.products);\n        } else {\n          window.alert('No products found with the given criteria.');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n  printRating(p) {\n    if (p.rating != 0) {\n      const url = `${this.app.baseUrl}buyer/giveRatingToProduct/${p.id}/${this.app.id}/${p.rating}`;\n      this.http.get(url).subscribe(data => {\n        // console.log(data)\n        if (data) {\n          // this.loadProduct();\n          // console.log(this.products)\n          window.alert('Rating updated successfully.');\n        } else {\n          window.alert('Something went wrong while updating rating.');\n        }\n      });\n    }\n  }\n  addToCart(p) {\n    // console.log(p)\n    ShowproductsComponent.quantity++;\n    const url = this.app.baseUrl + \"buyer/addToCart\" + p.id + \"and\" + this.app.id;\n    this.http.get(url).subscribe({\n      next: data => {\n        console.log(data);\n        if (data == 1) {\n          window.alert('Allready added in a cart');\n        } else {\n          window.alert('Added into cart');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n  loadCartProducts() {\n    const url = `${this.app.baseUrl}buyer/getCartProducts/${this.app.id}`;\n    this.http.get(url).subscribe({\n      next: data => {\n        if (data == 0 || data === null) {\n          window.alert(\"Cart is Empty\");\n          this.showCart = false;\n        } else if (data) {\n          this.cartItems = data;\n          this.showCart = true;\n        } else {\n          window.alert('Something is wrong');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n  cartProduct() {\n    this.loadCartProducts();\n  }\n  getTotalAmount() {\n    const totalAmount = this.cartItems.reduce((total, item) => total + (item.price - item.price * item.discount / 100), 0);\n    // Round to two decimal places\n    return parseFloat(totalAmount.toFixed(2));\n  }\n  /*\n    placeOrder() {\n      for (let i = 0; i < this.cartItems.length; i++) {\n  \n        let myArray: any[] = new Array(2);\n        myArray[0] = this.cartItems[i].id;\n        myArray[1] = this.cartItems[i].quantity;\n        console.log(myArray);\n        this.orders.push(myArray);\n      }\n      let url3 = this.app.baseUrl + \"buyer/onPlaceOrder/\" + this.app.id;\n      this.http.post(url3, this.orders).subscribe((data: any) => {\n        console.log(data)\n        if (data == null || data == -1) {\n          window.alert(\"Something went Wrong..\")\n        }\n        else {\n          window.alert(\"Your Order Placed SuccessFulyy...\")\n          this.cartItems = [];\n        }\n      });\n    }*/\n  placeOrder() {\n    // Assuming cartItems is an array of cart IDs\n    const cartIds = this.cartItems.map(item => item.id);\n    const url = `${this.app.baseUrl}buyer/placeOrder/${this.app.id}`;\n    this.http.post(url, cartIds).subscribe({\n      next: response => {\n        if (response === 1) {\n          this.cartItems = []; // Clear cart items\n          this.showCart = false;\n          window.alert('Order placed successfully.');\n        } else {\n          window.alert('Something went wrong while order.');\n        }\n      },\n      error: () => window.alert('Something went wrong while placing the order.')\n    });\n  }\n  static #_ = this.ɵfac = function ShowproductsComponent_Factory(t) {\n    return new (t || ShowproductsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AppComponent));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShowproductsComponent,\n    selectors: [[\"app-showproducts\"]],\n    decls: 31,\n    vars: 7,\n    consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"category\", 1, \"form-label\"], [\"id\", \"category\", \"name\", \"category\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", \"mb-3\"], [\"for\", \"minprice\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"minprice\", \"name\", \"minprice\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"maxprice\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"maxprice\", \"name\", \"maxprice\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"minrating\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"minrating\", \"name\", \"minrating\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-6\", \"d-flex\", \"align-items-end\", \"mb-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"col-12\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"mt-4\", 4, \"ngIf\"], [3, \"value\"], [4, \"ngIf\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"mt-4\"], [1, \"table\", \"table-striped\"], [1, \"btn\", \"btn-warning\", 3, \"click\"]],\n    template: function ShowproductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"label\", 3);\n        i0.ɵɵtext(4, \"Category:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"select\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowproductsComponent_Template_select_ngModelChange_5_listener($event) {\n          return ctx.catid = $event;\n        });\n        i0.ɵɵtemplate(6, ShowproductsComponent_option_6_Template, 2, 2, \"option\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\", 7);\n        i0.ɵɵtext(9, \"Min Price:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowproductsComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.minprice = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\", 9);\n        i0.ɵɵtext(13, \"Max Price:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowproductsComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.maxprice = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 1)(16, \"div\", 2)(17, \"label\", 11);\n        i0.ɵɵtext(18, \"Min Rating:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ShowproductsComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.minrating = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 13)(21, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function ShowproductsComponent_Template_button_click_21_listener() {\n          return ctx.loadProduct();\n        });\n        i0.ɵɵtext(22, \"Load Products\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 1)(24, \"div\", 15)(25, \"table\", 16)(26, \"tbody\");\n        i0.ɵɵtemplate(27, ShowproductsComponent_tr_27_Template, 36, 10, \"tr\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function ShowproductsComponent_Template_button_click_28_listener() {\n          return ctx.cartProduct();\n        });\n        i0.ɵɵtext(29, \"Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, ShowproductsComponent_div_30_Template, 28, 2, \"div\", 18);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.catid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.minprice);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.maxprice);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.minrating);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showCart);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","cat_r3","id","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵtemplate","ShowproductsComponent_tr_27_ng_container_20_Template","ShowproductsComponent_tr_27_ng_container_21_Template","ShowproductsComponent_tr_27_ng_container_22_Template","ShowproductsComponent_tr_27_ng_container_24_Template","ɵɵlistener","ShowproductsComponent_tr_27_Template_button_click_34_listener","restoredCtx","ɵɵrestoreView","_r11","p_r4","$implicit","ctx_r10","ɵɵnextContext","ɵɵresetView","addToCart","ɵɵtextInterpolate1","i_r5","price","description","quantity","days","discount","rating","i_r14","item_r13","ShowproductsComponent_div_30_tr_19_Template","ShowproductsComponent_div_30_Template_button_click_23_listener","_r16","ctx_r15","showCart","ɵɵelement","ShowproductsComponent_div_30_Template_button_click_26_listener","ctx_r17","placeOrder","ctx_r2","cartItems","getTotalAmount","ShowproductsComponent","constructor","http","app","catid","minprice","maxprice","minrating","orders","ngOnInit","loadCategories","loadProduct","url","baseUrl","get","subscribe","next","data","categories","error","window","alert","obj","post","length","products","console","log","printRating","p","loadCartProducts","cartProduct","totalAmount","reduce","total","item","parseFloat","toFixed","cartIds","map","response","_","ɵɵdirectiveInject","i1","HttpClient","i2","AppComponent","_2","selectors","decls","vars","consts","template","ShowproductsComponent_Template","rf","ctx","ShowproductsComponent_Template_select_ngModelChange_5_listener","$event","ShowproductsComponent_option_6_Template","ShowproductsComponent_Template_input_ngModelChange_10_listener","ShowproductsComponent_Template_input_ngModelChange_14_listener","ShowproductsComponent_Template_input_ngModelChange_19_listener","ShowproductsComponent_Template_button_click_21_listener","ShowproductsComponent_tr_27_Template","ShowproductsComponent_Template_button_click_28_listener","ShowproductsComponent_div_30_Template"],"sources":["C:\\Users\\chinc\\AngularProject\\AmazonClone\\src\\app\\buyer\\showproducts\\showproducts.component.ts","C:\\Users\\chinc\\AngularProject\\AmazonClone\\src\\app\\buyer\\showproducts\\showproducts.component.html"],"sourcesContent":["// import { HttpClient } from '@angular/common/http';\n// import { Component } from '@angular/core';\n// import { AppComponent } from 'src/app/app.component';\n\n// @Component({\n//   selector: 'app-showproducts',\n//   templateUrl: './showproducts.component.html',\n//   styleUrls: ['./showproducts.component.css']\n// })\n// export class ShowproductsComponent {\n//   /*\n\n//     categories: any;\n//     products: any;\n//     catid: number = 0;\n//     minprice: number = 0;\n//     maxprice: number = 60000;\n//     minrating: number = 0;\n\n//     constructor(public http: HttpClient, public app: AppComponent) {\n//       const url2 = `${this.app.baseUrl}admin/getAllCategories`;\n//       this.http.get<any>(url2).subscribe(data => {\n//         if (data == null) {\n//           window.alert('Something is Wrong');\n//         } else {\n//           // console.log(data)\n//           this.categories = data;\n//         }\n//       });\n//     }\n\n//     // ngOnInit(): void {\n//     //   this.loadCategories(); // Load categories when the component initializes\n//     //   // this.loadProduct(); // Load products when the component initializes\n//     // }\n\n//     // loadCategories() {\n//     //   const url = `${this.app.baseUrl}admin/getAllCategories`;\n//     //   this.http.get<any[]>(url).subscribe(data => {\n//     //     if (data == null) {\n//     //       window.alert('Something is Wrong');\n//     //     } else {\n//     //       // console.log(data)\n//     //       this.categories = data;\n//     //     }\n//     //   });\n//     // }\n//     loadProduct() {\n//       let obj = [this.catid, this.minprice, this.maxprice, this.minrating];\n//       let url = this.app.baseUrl + 'buyer/getProductsBuyer';\n\n//       this.http.post(url, obj).subscribe((data: any) => {\n//         if (data == null || data.length === 0) {\n//           window.alert('Something is wrong')\n//         }\n//         else {\n//           // console.log(data.rating)\n//           this.products = data;\n//         }\n//       });\n//     }\n//     printRating(){\n\n//       console.log(this.products.rating)\n//     }\n//   }*/\n//   categories: any;\n//   catid: number = 0;\n//   minprice: number = 0;\n//   maxprice: number = 60000;\n//   minrating: number = 0;\n//   star: number = 0\n//   cartItems: any;\n//   showCart: boolean = false;\n//   constructor(public http: HttpClient, public app: AppComponent) {\n//     let url2 = app.baseUrl + 'admin/getAllCategories'\n//     http.get(url2).subscribe((data: any) => {\n//       if (data == null) {\n//         window.alert('Something is wrong')\n//       }\n//       else {\n//         this.categories = data;\n//       }\n//     });\n//   }\n//   products: any\n//   obj: any\n//   loadProduct() {\n//     let obj = [this.catid, this.minprice, this.maxprice, this.minrating];\n//     let url = this.app.baseUrl + 'buyer/getProductsBuyer';\n//     this.http.post(url, obj).subscribe((data: any) => {\n//       if (data == null || data.length === 0) {\n//         window.alert('Something is wrong')\n//       }\n//       else {\n//         this.products = data;\n//       }\n//     });\n//   }\n//   rating: number = 0;\n//   printRating(p: any): void {\n//     if (p.star !== undefined) { // Ensure p.star is defined before proceeding\n//       let url = this.app.baseUrl + 'buyer/giveRatingToProduct' + p.id + '/' + this.app.id + '/' + p.star;\n//       this.http.get(url).subscribe((data: any) => {\n//         if (data == null || data == 0) {\n//           window.alert('Something went wrong while updating rating.');\n//         } else {\n//           this.loadProduct();\n//           window.alert('Rating updated successfully.');\n//         }\n//       });\n//     }\n//   }\n//   AddToCart(p: any) {\n//     const obj = {\n//       userid: this.app.id,\n//       productid: p.id\n//     };\n//     console.log(obj)\n//     const url = `${this.app.baseUrl}buyer/addToCart`;\n//     this.http.post(url, obj).subscribe((data: any) => {\n//       console.log(data)\n//       if (data == null) {\n//         window.alert('Something is wrong');\n//       } else {\n//         window.alert('Added to cart');\n//       }\n//     });\n//   }\n//   loadCartProducts() {\n//     let url = this.app.baseUrl + 'buyer/getCartProducts' + this.app.id;\n//     this.http.get(url).subscribe((data: any) => {\n//       if (data == null) {\n//         window.alert('Something is wrong')\n//       }\n//       else {\n//         this.cartItems = data;\n//         this.showCart = true;\n//       }\n//     });\n//   }\n//   cartProduct() {\n//     this.loadCartProducts();\n//   }\n// }\n\n\n\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { AppComponent } from 'src/app/app.component';\n\n@Component({\n  selector: 'app-showproducts',\n  templateUrl: './showproducts.component.html',\n  styleUrls: ['./showproducts.component.css']\n})\nexport class ShowproductsComponent implements OnInit {\n  categories: any;\n  products: any;\n  catid: number = 1;\n  minprice: number = 0;\n  maxprice: number = 200000;\n  minrating: number = 0;\n  cartItems: any[] = [];\n  rating: number = 0;\n  showCart: boolean = false;\n  orders: any[] = [];\n\n  static quantity: any;\n\n  constructor(private http: HttpClient, private app: AppComponent) { }\n\n  ngOnInit(): void {\n    this.loadCategories();\n    this.loadProduct();\n  }\n\n  loadCategories(): void {\n    const url = `${this.app.baseUrl}admin/getAllCategories`;\n    this.http.get(url).subscribe({\n      next: (data: any) => this.categories = data,\n      error: () => window.alert('Something is wrong')\n    });\n  }\n\n  loadProduct(): void {\n    const obj = [this.catid, this.minprice, this.maxprice, this.minrating];\n    const url = `${this.app.baseUrl}buyer/getProductsBuyer`;\n    this.http.post(url, obj).subscribe({\n      next: (data: any) => {\n        if (data && data.length > 0) {\n          this.products = data;\n          console.log(this.products);\n        } else {\n          window.alert('No products found with the given criteria.');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n\n  printRating(p: any): void {\n    if (p.rating != 0) {\n      const url = `${this.app.baseUrl}buyer/giveRatingToProduct/${p.id}/${this.app.id}/${p.rating}`;\n      this.http.get(url).subscribe((data: any) => {\n        // console.log(data)\n        if (data) {\n          // this.loadProduct();\n          // console.log(this.products)\n          window.alert('Rating updated successfully.');\n        } else {\n          window.alert('Something went wrong while updating rating.');\n        }\n      });\n    }\n  }\n\n  addToCart(p: any): void {\n    // console.log(p)\n    ShowproductsComponent.quantity++;\n    const url = this.app.baseUrl + \"buyer/addToCart\" + p.id + \"and\" + this.app.id;\n    this.http.get(url).subscribe({\n      next: (data: any) => {\n        \n        console.log(data)\n        if (data == 1) {\n          window.alert('Allready added in a cart');\n        }\n        else {\n          window.alert('Added into cart');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n\n  loadCartProducts(): void {\n    const url = `${this.app.baseUrl}buyer/getCartProducts/${this.app.id}`;\n    this.http.get(url).subscribe({\n      next: (data: any) => {\n        if (data == 0 || data === null) {\n          window.alert(\"Cart is Empty\");\n          this.showCart = false;\n        }\n        else if (data) {\n          this.cartItems = data;\n          this.showCart = true;\n        } else {\n          window.alert('Something is wrong');\n        }\n      },\n      error: () => window.alert('Something is wrong')\n    });\n  }\n\n  cartProduct(): void {\n    this.loadCartProducts();\n  }\n\n  getTotalAmount(): number {\n    const totalAmount = this.cartItems.reduce((total: number, item: {\n      price: number; discount: number;\n    }) => total + (item.price - (item.price * item.discount / 100)), 0);\n    // Round to two decimal places\n    return parseFloat(totalAmount.toFixed(2));\n  }\n\n  /*\n    placeOrder() {\n      for (let i = 0; i < this.cartItems.length; i++) {\n  \n        let myArray: any[] = new Array(2);\n        myArray[0] = this.cartItems[i].id;\n        myArray[1] = this.cartItems[i].quantity;\n        console.log(myArray);\n        this.orders.push(myArray);\n      }\n      let url3 = this.app.baseUrl + \"buyer/onPlaceOrder/\" + this.app.id;\n      this.http.post(url3, this.orders).subscribe((data: any) => {\n        console.log(data)\n        if (data == null || data == -1) {\n          window.alert(\"Something went Wrong..\")\n        }\n        else {\n          window.alert(\"Your Order Placed SuccessFulyy...\")\n          this.cartItems = [];\n        }\n      });\n    }*/\n\n  placeOrder(): void {\n    // Assuming cartItems is an array of cart IDs\n    const cartIds = this.cartItems.map((item: any) => item.id);\n    const url = `${this.app.baseUrl}buyer/placeOrder/${this.app.id}`;\n\n    this.http.post(url, cartIds).subscribe({\n      next: response => {\n        if (response === 1) {\n          this.cartItems = []; // Clear cart items\n          this.showCart = false;\n          window.alert('Order placed successfully.');\n        } else {\n          window.alert('Something went wrong while order.');\n        }\n      },\n      error: () => window.alert('Something went wrong while placing the order.')\n    });\n  }\n}","<div class=\"container mt-4\">\n  <div class=\"row\">\n    <div class=\"col-md-6 mb-3\">\n      <label for=\"category\" class=\"form-label\">Category:</label>\n      <select id=\"category\" [(ngModel)]=\"catid\" name=\"category\" class=\"form-select\">\n        <option *ngFor=\"let cat of categories\" [value]=\"cat.id\">{{ cat.name }}</option>\n      </select>\n    </div>\n    <div class=\"col-md-3 mb-3\">\n      <label for=\"minprice\" class=\"form-label\">Min Price:</label>\n      <input type=\"number\" [(ngModel)]=\"minprice\" id=\"minprice\" name=\"minprice\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-3 mb-3\">\n      <label for=\"maxprice\" class=\"form-label\">Max Price:</label>\n      <input type=\"number\" [(ngModel)]=\"maxprice\" id=\"maxprice\" name=\"maxprice\" class=\"form-control\">\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-6 mb-3\">\n      <label for=\"minrating\" class=\"form-label\">Min Rating:</label>\n      <input type=\"number\" [(ngModel)]=\"minrating\" id=\"minrating\" name=\"minrating\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6 d-flex align-items-end mb-3\">\n      <button (click)=\"loadProduct()\" class=\"btn btn-primary\">Load Products</button>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <table class=\"table table-bordered\">\n        <tbody>\n          <tr *ngFor=\"let p of products; let i = index\">\n            <td>\n              <p><strong>SN: {{ i + 1 }}</strong></p>\n              <p><strong>Name:</strong> {{ p.name }}</p>\n              <p><strong>Price:</strong> {{ p.price }}</p>\n              <p><strong>Description:</strong> {{ p.description }}</p>\n              <p><strong>Quantity:</strong>\n                <ng-container *ngIf=\"p.quantity === 0\">Not available</ng-container>\n                <ng-container *ngIf=\"p.quantity > 0 && p.quantity < 5\">Limited stock</ng-container>\n                <ng-container *ngIf=\"p.quantity >= 5\">Available</ng-container>\n              </p>\n              <p><ng-container *ngIf=\"p.days <= 5\"><strong>Recently added</strong></ng-container></p>\n              <p><strong>Discount:</strong> {{ p.discount }}</p>\n               <p><strong>Rating:</strong> {{ p.rating }}</p>\n             <!-- <label for=\"rating\" class=\"form-label\">Give Rating:</label>\n              <select id=\"rating\" [(ngModel)]=\"p.rating\" (change)=\"printRating(p)\" class=\"form-select\">\n                <option [value]=\"1\">1 Star</option>\n                <option [value]=\"2\">2 Stars</option>\n                <option [value]=\"3\">3 Stars</option>\n                <option [value]=\"4\">4 Stars</option>\n                <option [value]=\"5\">5 Stars</option>\n              </select> -->\n            </td>\n            <td>\n              <button (click)=\"addToCart(p)\" class=\"btn btn-success\">Add to Cart</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <button (click)=\"cartProduct()\" class=\"btn btn-primary\">Cart</button>\n\n      <div *ngIf=\"showCart\" class=\"mt-4\">\n        <h2>Your Cart</h2>\n        <table class=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>SN</th>\n              <th>Name</th>\n              <th>Price</th>\n              <!-- <th>Quantity</th> -->\n              <th>Description</th>\n              <th>Discount</th>\n              <th>Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let item of cartItems; let i = index\">\n              <td>{{ i + 1 }}</td>\n              <td>{{ item.name }}</td>\n              <td>{{ item.price }}</td>\n              <!-- <td>{{ item.quantity }}</td> -->\n              <td>{{ item.description }}</td>\n              <td>{{ item.discount }} %</td>\n              <td>{{ (item.price - item.discount / 100)}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div>\n          <h4>Total Amount: {{ getTotalAmount() }}</h4>\n        </div>\n        <button (click)=\"showCart = false\" class=\"btn btn-warning\">Back to Products</button><br>\n        <button (click)=\"placeOrder()\" class=\"btn btn-success\">Place Order</button>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}