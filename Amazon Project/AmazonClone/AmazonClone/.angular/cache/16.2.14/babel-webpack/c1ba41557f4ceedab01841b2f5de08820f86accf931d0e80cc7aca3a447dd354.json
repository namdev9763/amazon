{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../app.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"label\", 8);\n    i0.ɵɵtext(3, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_6_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.username = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"label\", 10);\n    i0.ɵɵtext(7, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_6_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_6_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.login());\n    });\n    i0.ɵɵtext(10, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"span\");\n    i0.ɵɵtext(13, \"New to Amazon?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_6_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showSignupForm());\n    });\n    i0.ɵɵtext(15, \"Create Your Amazon Account\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n  }\n}\nfunction LoginComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"label\", 15);\n    i0.ɵɵtext(2, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_7_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.user.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 7)(5, \"label\", 17);\n    i0.ɵɵtext(6, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_7_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.user.userName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"label\", 19);\n    i0.ɵɵtext(10, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_7_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.user.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 7)(13, \"label\", 21);\n    i0.ɵɵtext(14, \"Account Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"select\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_7_Template_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.user.accountType = $event);\n    });\n    i0.ɵɵelementStart(16, \"option\", 23);\n    i0.ɵɵtext(17, \"Admin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 24);\n    i0.ɵɵtext(19, \"Seller\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 25);\n    i0.ɵɵtext(21, \"Buyer\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_7_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.signup());\n    });\n    i0.ɵɵtext(23, \"Sign Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 13)(25, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_7_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.showLoginForm());\n    });\n    i0.ɵɵtext(26, \"Already have an account? Log in\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.userName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.accountType);\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(http, app) {\n      this.http = http;\n      this.app = app;\n      this.isLogin = true; // Default to login form\n      this.username = 'Buyer';\n      this.password = 'Buyer';\n    }\n    login() {\n      let url = this.app.baseUrl + 'login/log';\n      let obj = [this.username, this.password];\n      this.http.post(url, obj).subscribe(data => {\n        if (data == null) {\n          window.alert('Something is wrong');\n        } else {\n          if (data.id < 1) {\n            window.alert(data.errorMessage);\n          } else {\n            this.app.id = data.id;\n            this.app.whatToShow = data.accountType;\n          }\n        }\n      });\n    }\n    signup() {\n      if (this.user.name == null || this.user.username == null || this.user.password == null || this.user.accountType == null) window.alert(\"All fields are mandetory\");else {\n        this.isLogin = false;\n        let url = this.app.baseUrl + 'signup/register';\n        this.http.post(url, this.user).subscribe(response => {\n          // console.log(response);\n          window.alert('Account created successfully!');\n          // // Reset user object or clear form fields\n          this.user = {};\n          // // Optionally, switch back to the login form\n          this.isLogin = true;\n        });\n      }\n    }\n    showSignupForm() {\n      this.isLogin = false; // Switch back to login form\n    }\n\n    showLoginForm() {\n      this.isLogin = true; // Switch back to login form\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AppComponent));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 9,\n      vars: 3,\n      consts: [[1, \"container\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"vh-100\"], [1, \"card\", \"p-4\", \"shadow-sm\", 2, \"max-width\", \"400px\", \"width\", \"100%\"], [1, \"text-center\", \"mb-4\"], [\"src\", \"../../assets/Images/th.jpeg\", \"alt\", \"Amazon Logo\", 1, \"img-fluid\", 2, \"max-width\", \"100px\"], [1, \"h5\", \"mt-2\"], [4, \"ngIf\", \"ngIfElse\"], [\"signupForm\", \"\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-warning\", \"btn-block\", \"mt-3\", 3, \"click\"], [1, \"text-center\", \"mt-3\"], [1, \"btn\", \"btn-link\", 3, \"click\"], [\"for\", \"newName\"], [\"type\", \"text\", \"id\", \"newName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newUsername\"], [\"type\", \"text\", \"id\", \"newUsername\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newPassword\"], [\"type\", \"password\", \"id\", \"newPassword\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newAccountType\"], [\"id\", \"newAccountType\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementStart(4, \"h2\", 4);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, LoginComponent_div_6_Template, 16, 2, \"div\", 5);\n          i0.ɵɵtemplate(7, LoginComponent_ng_template_7_Template, 27, 4, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(8);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.isLogin ? \"Login\" : \"Sign Up\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLogin)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}